(function(n,t){t["true"]=n,function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("react"),require("angular")):"function"==typeof define&&define.amd?define(["react","angular"],function(r,angular){return n.ngReact=t(r,angular)}):n.ngReact=t(n.React,n.angular)}(this,function(React,angular){"use strict";function n(n,t){if(angular.isFunction(n))return n;if(!n)throw Error("ReactComponent name attribute must be specified");var r;try{r=t.get(n)}catch(e){}if(r=r||window[n],!r)throw Error("Cannot find react component "+n);return r}function t(n,t){return n.wrappedInApply?n:function(){var r=arguments;t.$apply(function(){n.wrappedInApply=!0,n.apply(null,r)})}}function r(n,r){return Object.keys(n||{}).reduce(function(e,o){var i=n[o];return e[o]=angular.isFunction(i)?t(i,r):i,e},{})}function e(n,t,r,e){r(function(){React.render(React.createElement(n,t),e[0])})}var o=function(t,o){return{restrict:"E",replace:!0,link:function(i,u,c){var a=n(c.name,o),f=function(){var n=i[c.props],o=r(n,i);e(a,o,t,u)};c.props?i.$watch(c.props,f,!0):f(),i.$on("$destroy",function(){React.unmountComponentAtNode(u[0])})}}},i=function(t,o){return function(i,u){return{restrict:"E",replace:!0,link:function(c,a,f){var p=n(i,o),s={},d=function(n){if(angular.isDefined(n)&&angular.isArray(n)){for(var t=0;n.length>t;t++){var r=n[t];if(!angular.isArray(r)||2!==r.length)return!1}return!0}return!1};if(d(u)){var l=[];angular.forEach(u,function(n){l.push(n[0]),s[n[0]]=n[1]}),u=l}else u=u||Object.keys(p.propTypes||{}),angular.forEach(u,function(n){s[n]=!0});var m=function(){var n={};u.forEach(function(t){n[t]=c.$eval(f[t])}),e(p,r(n,c),t,a)};u.forEach(function(n){s[n]&&c.$watch(f[n],m,!0)}),m(),c.$on("$destroy",function(){React.unmountComponentAtNode(a[0])})}}}};return angular.module("react",[]).directive("reactComponent",["$timeout","$injector",o]).factory("reactDirective",["$timeout","$injector",i])})})({},function(){return this}());